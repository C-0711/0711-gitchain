# GitChain Environment Configuration
# ====================================
# Copy this file to .env and fill in the values.
# Variables marked [REQUIRED] must be set in production.
# Variables marked [REQUIRED-PROD] must be set in production but have dev defaults.

# ============================================
# Application
# ============================================
NODE_ENV=development
PORT=3100

# ============================================
# Database (PostgreSQL) [REQUIRED-PROD]
# ============================================
# Option 1: Full connection string (takes precedence)
DATABASE_URL=postgresql://gitchain:CHANGE_ME@localhost:5440/gitchain

# Option 2: Individual config vars
DB_HOST=localhost
DB_PORT=5440
DB_NAME=gitchain
DB_USER=gitchain
DB_PASSWORD=CHANGE_ME  # [REQUIRED-PROD] No default in production!

# ============================================
# Authentication [REQUIRED-PROD]
# ============================================
# Generate with: openssl rand -base64 64
JWT_SECRET=CHANGE_ME_64_CHAR_RANDOM_STRING  # [REQUIRED-PROD] No default in production!
JWT_EXPIRES_IN=7d

# API key hashing salt (generate with: openssl rand -base64 32)
API_KEY_SALT=CHANGE_ME_32_CHAR_RANDOM_STRING

# ============================================
# Data Storage
# ============================================
GITCHAIN_DATA_DIR=/data/gitchain/repos

# ============================================
# Redis Cache (Optional)
# ============================================
REDIS_URL=redis://localhost:6379
# Or individual config:
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=

# ============================================
# Content Blockchain (Base Network)
# ============================================

# Deployer private key for submitting batches
# [REQUIRED] for blockchain anchoring service only
# NEVER commit this value â€” use a secrets manager in production!
# DEPLOYER_PRIVATE_KEY=

# Contract address (deployed on Base Mainnet)
CONTENT_CERTIFICATE_ADDRESS_MAINNET=0xAd31465A5618Ffa27eC1f3c0056C2f5CC621aEc7

# RPC endpoints
BASE_MAINNET_RPC=https://mainnet.base.org
BASE_SEPOLIA_RPC=https://sepolia.base.org

# ============================================
# IPFS / Pinata
# ============================================

# Pinata SDK (recommended for production)
PINATA_JWT=
PINATA_GATEWAY=gateway.pinata.cloud

# Raw IPFS API (development fallback)
IPFS_API_URL=http://localhost:5001
IPFS_GATEWAY_URL=https://ipfs.io/ipfs

# ============================================
# Rate Limiting
# ============================================
RATE_LIMIT_WINDOW_MS=60000
RATE_LIMIT_MAX_REQUESTS=100

# Auth endpoints (stricter)
RATE_LIMIT_AUTH_WINDOW_MS=60000
RATE_LIMIT_AUTH_MAX_REQUESTS=5

# ============================================
# Logging
# ============================================
LOG_LEVEL=info

# ============================================
# CORS (comma-separated origins)
# ============================================
CORS_ORIGINS=http://localhost:3001

# ============================================
# URLs (Production)
# ============================================
# PUBLIC_API_URL=https://api.gitchain.dev
# PUBLIC_HUB_URL=https://app.gitchain.dev
# NEXT_PUBLIC_API_URL=https://api.gitchain.dev

# ============================================
# Blockchain Wallet (for batch registration)
# ============================================
# GITCHAIN_WALLET_KEY=  # [REQUIRED] for blockchain batch submission only
